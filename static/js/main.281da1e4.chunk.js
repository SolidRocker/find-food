(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(56)},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/eatbook.43510351.png"},37:function(e,t,a){e.exports=a.p+"static/media/facebook.4a668b2f.png"},38:function(e,t,a){e.exports=a.p+"static/media/instagram.5517c24f.png"},39:function(e,t,a){e.exports=a.p+"static/media/thesmartlocal.29d6ed25.png"},40:function(e,t,a){e.exports=a.p+"static/media/star.56e829f8.png"},42:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(10),r=a.n(i),l=(a(30),a(4)),o=a(5),c=a(8),p=a(6),m=a(7),h=a(3),d=a(9),u=a(24),f=a(11),E={places:[],selectedPlace:{},hasSelection:!1},y={filterType:"Filter By...",filterData:"Select...",hasFilterType:!1,hasFilterData:!1,masterCategoryList:[],categoryList:[],zoneList:[]},g=Object(d.c)({mapContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLACES":return Object(f.a)({},e,{places:t.payload});case"UPDATE_SELECTED_PLACE":return Object(f.a)({},e,{selectedPlace:t.payload,hasSelection:t.hasPayload});default:return e}},filterSection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_FILTER_TYPE":return Object(f.a)({},e,{filterType:t.payload,hasFilterType:t.payloadShowFilterData,hasFilterData:!1,filterData:"Select..."});case"SELECT_FILTER_DATA":return Object(f.a)({},e,{filterData:t.payload,hasFilterData:!0});default:return e}}}),v=[u.a],b=Object(d.d)(g,{},d.a.apply(void 0,v)),w=(a(35),a(2)),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"isMobile",value:function(){return window.innerHeight/window.innerWidth>1.6}},{key:"convertStringToLinks",value:function(e){var t=[];return e.split(" ").forEach(function(e){e.includes("http://")||e.includes("https://")?t.push(s.a.createElement("a",{key:t.length,href:e},e)):t.push(e),t.push(" ")}),t}},{key:"renderDefaultText",value:function(){return this.props.places.length<1?s.a.createElement("div",{className:"info-section-default-text"},"No places nearby. Are you sure you have the right coordinates?"):s.a.createElement("div",{className:"info-section-default-text"},"Click on a pin to start looking!")}},{key:"renderElements",value:function(e,t){if(this.props.selectedPlace.hasOwnProperty(e)&&"-"!==t&&""!==t)switch(e){case"EntryDescription":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.d,null)," "),s.a.createElement("span",null,this.convertStringToLinks(t)),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"OpeningHours":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.c,null)," "),s.a.createElement("span",null,t),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"ContactNumber":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.i,null)," "),s.a.createElement("span",null,t),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"Website":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.f,null)," "),s.a.createElement("span",null,this.convertStringToLinks(t)),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"ContactEmail":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.e,null)," "),s.a.createElement("span",null,s.a.createElement("a",{href:"mailto:"+t},t)),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"EntryAddress":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.g,null)," "),s.a.createElement("span",null,t),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));case"Zone":return s.a.createElement("div",{className:"info-section-info"},s.a.createElement("span",{className:"info-section-icon"}," ",s.a.createElement(w.h,null)," "),s.a.createElement("span",null,t),s.a.createElement("div",{className:"info-section-hr"},s.a.createElement("hr",null)));default:return null}return null}},{key:"renderExternalLinks",value:function(){var e=!1,t=!1,n=!1,i=!1,r=!1;return this.props.selectedPlace.hasOwnProperty("EatBookArticle")&&"-"!==this.props.selectedPlace.EatBookArticle&&""!==this.props.selectedPlace.EatBookArticle&&(e=!0),this.props.selectedPlace.hasOwnProperty("FacebookPage")&&"-"!==this.props.selectedPlace.FacebookPage&&""!==this.props.selectedPlace.FacebookPage&&(t=!0),this.props.selectedPlace.hasOwnProperty("Instagram")&&"-"!==this.props.selectedPlace.Instagram&&""!==this.props.selectedPlace.Instagram&&(n=!0),this.props.selectedPlace.hasOwnProperty("TSLArticle")&&"-"!==this.props.selectedPlace.TSLArticle&&""!==this.props.selectedPlace.TSLArticle&&(i=!0),this.props.selectedPlace.hasOwnProperty("TSLReviews")&&"-"!==this.props.selectedPlace.TSLReviews&&""!==this.props.selectedPlace.TSLReviews&&(r=!0),s.a.createElement("div",{className:"info-section-info-sm"},e&&s.a.createElement("span",null,s.a.createElement("a",{href:this.props.selectedPlace.EatBookArticle},s.a.createElement("img",{src:a(36),alt:"Eatbook",className:"info-section-icon-sm"}))),t&&s.a.createElement("span",null,s.a.createElement("a",{href:this.props.selectedPlace.FacebookPage},s.a.createElement("img",{src:a(37),alt:"Facebook",className:"info-section-icon-sm"}))),n&&s.a.createElement("span",null,s.a.createElement("a",{href:this.props.selectedPlace.Instagram},s.a.createElement("img",{src:a(38),alt:"Instagram",className:"info-section-icon-sm"}))),i&&s.a.createElement("span",null,s.a.createElement("a",{href:this.props.selectedPlace.TSLArticle},s.a.createElement("img",{src:a(39),alt:"TheSmartLocal Article",className:"info-section-icon-sm"}))),r&&s.a.createElement("span",null,s.a.createElement("a",{href:this.props.selectedPlace.TSLReviews},s.a.createElement("img",{src:a(40),alt:"TheSmartLocal Reviews",className:"info-section-icon-sm"}))))}},{key:"render",value:function(){return this.props.hasSelection?s.a.createElement("div",{className:this.isMobile()?"info-section-sp":"info-section"},s.a.createElement("div",{className:"info-section-headerbg"},s.a.createElement("div",{className:"info-section-header"},this.props.selectedPlace.EntryName),s.a.createElement("div",{className:"info-section-category"},this.props.selectedPlace.MasterCategory,": ",this.props.selectedPlace.Category)),s.a.createElement("div",{className:"info-section-gap"}),this.renderElements("EntryDescription",this.props.selectedPlace.EntryDescription),this.renderElements("OpeningHours",this.props.selectedPlace.OpeningHours),this.renderElements("ContactNumber",this.props.selectedPlace.ContactNumber),this.renderElements("Website",this.props.selectedPlace.Website),this.renderElements("ContactEmail",this.props.selectedPlace.ContactEmail),this.renderElements("EntryAddress",this.props.selectedPlace.EntryAddress),this.renderElements("Zone",this.props.selectedPlace.Zone),this.renderExternalLinks()):s.a.createElement("div",{className:this.isMobile()?"info-section-sp":"info-section"},s.a.createElement("div",{className:"info-section-headerbg"},s.a.createElement("div",{className:"info-section-header"},"Food Finder"),s.a.createElement("div",{className:"info-section-category"},"What's nice nearby?")),s.a.createElement("div",{className:"info-section-icon"},this.renderDefaultText()))}}]),t}(n.Component),P=Object(h.b)(function(e){return{places:e.mapContainer.places,selectedPlace:e.mapContainer.selectedPlace,hasSelection:e.mapContainer.hasSelection}},{})(N),C=a(21),L=a.n(C);function S(e){return""!==e&&"-"!==e}var T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(a){a({type:"UPDATE_SELECTED_PLACE",payload:e,hasPayload:t})}},D=(a(42),["Show All","Master Category","Category","Zone"]),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).onSelectFilterType=function(e){a.props.selectFilterType(e.label)},a.onSelectFilterData=function(e){a.props.selectFilterData(e.label),a.props.updateSelectedPlace({},!1)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"isMobile",value:function(){return window.innerHeight/window.innerWidth>1.6}},{key:"render",value:function(){return s.a.createElement("div",{className:this.isMobile()?"filter-section-sp":"filter-section"},s.a.createElement("div",{className:this.isMobile()?"filter-section-header-bg-sp":"filter-section-header-bg"},s.a.createElement("div",{className:"filter-section-header"},"Filters")),s.a.createElement("div",{className:"filter-section-gap"}),s.a.createElement("div",{className:"filter-type-dropdown"},s.a.createElement(L.a,{arrowClosed:s.a.createElement("span",{className:this.isMobile()?"Dropdown-icon-sp":"Dropdown-icon"},s.a.createElement(w.a,null)),arrowOpen:s.a.createElement("span",{className:this.isMobile()?"Dropdown-icon-sp":"Dropdown-icon"},s.a.createElement(w.b,null)),options:D,onChange:this.onSelectFilterType,value:this.props.filterType,placeholder:"Filter By...",className:"filter-list",controlClassName:"Dropdown-control",menuClassName:this.isMobile()?"Dropdown-menu-type-sp":"Dropdown-menu-type"})),this.props.hasFilterType&&s.a.createElement("div",{className:"filter-data-dropdown"},s.a.createElement(L.a,{arrowClosed:s.a.createElement("span",{className:this.isMobile()?"Dropdown-icon-sp":"Dropdown-icon"},s.a.createElement(w.a,null)),arrowOpen:s.a.createElement("span",{className:this.isMobile()?"Dropdown-icon-sp":"Dropdown-icon"},s.a.createElement(w.b,null)),options:"Master Category"===this.props.filterType?this.props.masterCategoryList:"Category"===this.props.filterType?this.props.categoryList:"Zone"===this.props.filterType?this.props.zoneList:[],onChange:this.onSelectFilterData,value:this.props.filterData,placeholder:"Sort By...",className:"filter-list",controlClassName:"Dropdown-control",menuClassName:this.isMobile()?"Dropdown-menu-type-sp":"Dropdown-menu-type"})))}}]),t}(n.Component),k=Object(h.b)(function(e){return{hasFilterType:e.filterSection.hasFilterType,filterType:e.filterSection.filterType,filterData:e.filterSection.filterData,masterCategoryList:e.filterSection.masterCategoryList,categoryList:e.filterSection.categoryList,zoneList:e.filterSection.zoneList}},{selectFilterType:function(e){return function(t){var a=!0;"Show All"===e&&(a=!1),t({type:"SELECT_FILTER_TYPE",payload:e,payloadShowFilterData:a})}},selectFilterData:function(e){return function(t){t({type:"SELECT_FILTER_DATA",payload:e})}},updateSelectedPlace:T})(O),F=a(15),M={width:"80%",height:"100%"},j={width:"100%",height:"70%"},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onMarkerClick=function(e,t,n){a.props.updateSelectedPlace(e.placeData)},a.state={latitude:1.31919,longitude:103.857834,distance:3},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=window.location.href.split("/");console.log(e),isNaN(e[e.length-1])||""===e[e.length-1]?this.props.fetchPlaces(this.state.latitude,this.state.longitude,this.state.distance,this.props.masterCategoryList,this.props.categoryList,this.props.zoneList):this.setState({latitude:e[e.length-3],longitude:e[e.length-2],distance:e[e.length-1]},function(){this.props.fetchPlaces(this.state.latitude,this.state.longitude,this.state.distance,this.props.masterCategoryList,this.props.categoryList,this.props.zoneList)})}},{key:"isMobile",value:function(){return window.innerHeight/window.innerWidth>1.6}},{key:"renderMarkers",value:function(e){if(this.props.hasFilterData){if("Master Category"===this.props.filterType&&this.props.filterData!==e.MasterCategory)return;if("Category"===this.props.filterType&&this.props.filterData!==e.Category)return;if("Zone"===this.props.filterType&&this.props.filterData!==e.Zone)return}return s.a.createElement(F.Marker,{key:e.EntryID,title:e.EntryName,name:e.EntryName,position:{lat:e.Latitude,lng:e.Longitude},placeData:e,onClick:this.onMarkerClick})}},{key:"render",value:function(){var e=this;return s.a.createElement(F.Map,{google:this.props.google,zoom:14,style:this.isMobile()?j:M,initialCenter:{lat:this.state.latitude,lng:this.state.longitude}},this.props.places.map(function(t){return e.renderMarkers(t)}))}}]),t}(n.Component),x=Object(h.b)(function(e){return{places:e.mapContainer.places,selectedPlace:e.mapContainer.selectedPlace,masterCategoryList:e.filterSection.masterCategoryList,categoryList:e.filterSection.categoryList,zoneList:e.filterSection.zoneList,hasFilterData:e.filterSection.hasFilterData,filterType:e.filterSection.filterType,filterData:e.filterSection.filterData}},{fetchPlaces:function(e,t,a,n,s,i){return function(r){fetch("https://appsbytsl.com/API/V1/Nearby/EatBook/tyler03/"+e+"/"+t+"/"+a).then(function(e){return e.json()}).then(function(e){for(var t=0;t<e.length;++t)e[t].hasOwnProperty("MasterCategory")&&S(e[t].MasterCategory)&&-1===n.indexOf(e[t].MasterCategory)&&n.push(e[t].MasterCategory),e[t].hasOwnProperty("Category")&&S(e[t].Category)&&-1===s.indexOf(e[t].Category)&&s.push(e[t].Category),e[t].hasOwnProperty("Zone")&&S(e[t].Zone)&&-1===i.indexOf(e[t].Zone)&&i.push(e[t].Zone);r({type:"FETCH_PLACES",payload:e})})}},updateSelectedPlace:T})(Object(F.GoogleApiWrapper)({apiKey:"AIzaSyA4eoMwXF6WHOWLartYfDtKXKdOMotsBYQ"})(A)),W=(a(55),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"isMobile",value:function(){return window.innerHeight/window.innerWidth>1.6}},{key:"render",value:function(){return this.isMobile()?s.a.createElement(h.a,{store:b},s.a.createElement("div",{className:"main-section-sp"},s.a.createElement("div",{className:"map-section-sp"}," ",s.a.createElement(x,null)," "),s.a.createElement("div",{className:"side-section-sp"},s.a.createElement("div",{className:"display-section-sp"}," ",s.a.createElement(P,null)," "),s.a.createElement("div",{className:"filter-section-sp"}," ",s.a.createElement(k,null)," ")))):s.a.createElement(h.a,{store:b},s.a.createElement("div",{className:"main-section"},s.a.createElement("div",{className:"side-section"},s.a.createElement("div",{className:"display-section"}," ",s.a.createElement(P,null)," "),s.a.createElement("div",{className:"filter-section"}," ",s.a.createElement(k,null)," ")),s.a.createElement("div",null," ",s.a.createElement(x,null)," ")))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.281da1e4.chunk.js.map